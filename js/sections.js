var __accessCheck=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},__privateGet=(obj,member,getter)=>(__accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},__privateSet=(obj,member,value,setter)=>(__accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value),__privateMethod=(obj,member,method)=>(__accessCheck(obj,member,"access private method"),method);import{extractSectionId}from"//us.evisu.com/cdn/shop/t/8/assets/theme.js?v=9520114400402932931726832602";var _isLoaded,_searchQueryString,searchQueryString_get,_loadProducts,loadProducts_fn,RecentlyViewedProducts=class extends HTMLElement{constructor(){super(...arguments),__privateAdd(this,_searchQueryString),__privateAdd(this,_loadProducts),__privateAdd(this,_isLoaded,!1)}connectedCallback(){"requestIdleCallback"in window?requestIdleCallback(__privateMethod(this,_loadProducts,loadProducts_fn).bind(this),{timeout:1500}):__privateMethod(this,_loadProducts,loadProducts_fn).call(this)}};_isLoaded=new WeakMap,_searchQueryString=new WeakSet,searchQueryString_get=function(){const items=new Set(JSON.parse(localStorage.getItem("theme:recently-viewed-products")||"[]"));return this.hasAttribute("exclude-id")&&items.delete(parseInt(this.getAttribute("exclude-id"))),Array.from(items.values(),item=>`id:${item}`).slice(0,parseInt(this.getAttribute("products-count"))).join(" OR ")},_loadProducts=new WeakSet,loadProducts_fn=async function(){if(__privateGet(this,_isLoaded))return;__privateSet(this,_isLoaded,!0);const section=this.closest(".shopify-section"),url=`${Shopify.routes.root}search?type=product&q=${__privateGet(this,_searchQueryString,searchQueryString_get)}&section_id=${extractSectionId(section)}`,response=await fetch(url,{priority:"low"}),tempDiv=new DOMParser().parseFromString(await response.text(),"text/html"),recentlyViewedProductsElement=tempDiv.querySelector("recently-viewed-products");recentlyViewedProductsElement.childElementCount>0?this.replaceChildren(...document.importNode(recentlyViewedProductsElement,!0).childNodes):section.remove()},window.customElements.get("recently-viewed-products")||window.customElements.define("recently-viewed-products",RecentlyViewedProducts);
//# sourceMappingURL=/cdn/shop/t/8/assets/sections.js.map?v=5343109241269945951726936323
